"use strict";const checkBtn=document.querySelectorAll(".checked"),taskInfo=document.querySelectorAll(".task p"),removeBtn=document.querySelectorAll(".removed"),taskBar=document.querySelector(".tasks"),addBtn=document.querySelector("div#form button"),taskValue=document.querySelector("#form input"),modalSection=document.querySelector(".emptyTaskModal"),task=document.querySelectorAll(".task"),checkSection=document.querySelector(".checkedToDo"),checkToggle=document.querySelector("#checkToggle"),form=document.querySelector("#form"),navBtn=document.querySelectorAll(".side-nav ul li"),hamBurger=document.querySelector(".ham-burger"),aboutSection=document.querySelector("#social-handles"),pageToggleBtn=document.querySelector(".page-toggle"),clipBoard=document.querySelectorAll(".share"),remainToggle=document.querySelector("#remainToggle"),refreshBtn=document.querySelector("#refreshBtn");function createNode(e){const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("img"),a=document.createElement("img"),s=taskValue.value,i=document.createTextNode(s),c=e.firstChild;t.classList.add("task"),o.classList.add("checked"),a.classList.add("removed"),o.classList.add("fade-in-out"),a.classList.add("spinThat"),o.setAttribute("src","img/check.svg"),a.setAttribute("src","img/close.svg"),n.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(a),e.insertBefore(t,c)}document.addEventListener("DOMContentLoaded",getTodos),document.addEventListener("DOMContentLoaded",getCheckedTodos),addBtn.addEventListener("click",()=>{""===taskValue.value?(document.querySelector(".emptyTaskModal p").textContent="Cannot Add Empty Task!!!",modalSection.classList.remove("modalAnimate"),modalSection.addEventListener("animationend",()=>{modalSection.classList.add("modalAnimate")})):""!==taskValue.value&&(createNode(taskBar),saveLocalTodos(taskValue.value)),taskValue.value=""}),taskBar.addEventListener("click",e=>{const t=e.target;if("removed"===t.classList[0]){const e=t.parentElement,n=e.children[0].innerText;e.classList.add("removing"),removeLocalTodos(n),[...checkSection.children].forEach(e=>{e.innerText===n&&e.remove()}),e.addEventListener("animationend",()=>{e.remove()}),t.previousElementSibling.previousElementSibling.classList.contains("completed")?removeLocalTodos([n,"completed"]):removeLocalTodos([n])}else"img/check.svg"===t.getAttribute("src")?(t.previousElementSibling.classList.add("completed"),t.setAttribute("src","img/redo.svg"),checkedMaker(t.parentElement),checkLocalTodo(t.previousElementSibling.innerText),t.classList.contains("fade-in-out")?t.classList.replace("fade-in-out","spinThat"):t.classList.add("spinThat")):"img/redo.svg"===t.getAttribute("src")&&(t.previousElementSibling.classList.remove("completed"),t.setAttribute("src","img/check.svg"),removeCheckedTodo(t.parentElement.innerText),t.classList.contains("spinThat")?t.classList.replace("spinThat","fade-in-out"):t.classList.add("fade-in-out"))});const checkedMaker=e=>{const t=e.cloneNode(!0);if(t.children[0].style.textDecoration="none",t.children[0].style.color="#545454",t.children[1].remove(),t.children[1].remove(),t.classList.replace("task","centerWork"),"No Checked Task"===checkSection.firstChild.textContent){const e=checkSection.firstChild;checkSection.replaceChild(t,e)}else"No Checked Task"!==checkSection.firstChild.textContent&&checkSection.insertBefore(t,checkSection.firstChild)};if(checkToggle.addEventListener("click",()=>{"Checked Task"===checkToggle.textContent?checkToggle.textContent="Add Task":checkToggle.textContent="Checked Task",document.querySelector("#task-bar h5").textContent,document.querySelector("#task-bar h5").textContent="Checked To Do",document.querySelector(".taskHead").style.display="none",setTimeout(function(){document.querySelector(".taskHead").style.display="initial"},1),taskBar.classList.toggle("display-none"),taskBar.classList.contains("display-none")?form.style.display="none":taskBar.classList.contains("display-none")||(form.style.display="grid"),checkSection.classList.toggle("display-none"),"Add Task"===remainToggle.textContent&&(remainToggle.textContent="Remaining Task"),"Remaining Task"===remainToggle.textContent&&(taskBar.classList.contains("display-none")||[...taskBar.children].forEach(e=>{e.children[0].classList.contains("completed")&&"none"===e.style.display&&(document.querySelector(".taskHead").textContent="To Do List",form.style.display="grid",form.style.animation="rightIn 1s ease-in-out 1",e.style.display="grid",e.style.animation="todo 1s ease-in-out 1",e.addEventListener("animationend",()=>{e.style.display="grid"}),form.addEventListener("animationend",()=>{form.style.display="grid"}))}))}),remainToggle.addEventListener("click",()=>{if("Remaining Task"===remainToggle.textContent?remainToggle.textContent="Add Task":remainToggle.textContent="Remaining Task","Add Task"===remainToggle.textContent){checkSection.classList.contains("display-none")||(checkSection.classList.add("display-none"),taskBar.classList.remove("display-none"),checkToggle.textContent="Checked Task"),[...taskBar.children].forEach(e=>{e.children[0].classList.contains("completed")?(e.style.animation="rightOut 1s ease-in-out 1",e.addEventListener("animationend",()=>{e.style.display="none"})):e.children[0].classList.contains("completed")||(e.style.display="none",setTimeout(function(){e.style.animation="rightIn 1s ease-in-out 1",e.style.display="grid"},10),e.addEventListener("click",t=>{t.target.classList.contains("checked")&&(e.style.animation="leftOut 1s ease-in-out 1",e.addEventListener("animationend",()=>{e.style.display="none"}))}))}),form.style.animation="leftOut 1s ease-in-out 1",form.addEventListener("animationend",()=>{form.style.display="none"}),document.querySelector(".taskHead").textContent="Remaining Task"}else if("Remaining Task"===remainToggle.textContent){[...taskBar.children].forEach(e=>{e.children[0].classList.contains("completed")?(e.style.display="grid",e.style.animation="todo 1s ease-in-out 1",e.addEventListener("animationend",()=>{e.style.display="grid"})):e.children[0].classList.contains("completed")||(e.style.display="none",setTimeout(function(){e.style.animation="todo 1s ease-in-out 1",e.style.display="grid"},10))}),document.querySelector(".taskHead").textContent="To Do List",form.style.display="grid",form.style.animation="todo 1s ease-in-out 1",form.addEventListener("animationend",()=>{form.style.display="grid"})}}),refreshBtn.addEventListener("click",()=>{location.reload()}),!checkSection.hasChildNodes()){const e=document.createElement("p"),t=document.createTextNode("No Checked Task");e.appendChild(t),checkSection.appendChild(e)}function togglePage(){const e=document.querySelector("#logo h1");""===aboutSection.style.display||"none"===aboutSection.style.display?(document.querySelector("#task-bar").style.display="none",e.style.display="none",setTimeout(function(){e.style.display="initial"},10),aboutSection.style.display="flex",hamBurger.style.display="none",document.querySelector("nav").style.justifyContent="flex-end",pageToggleBtn.textContent="App",e.innerHTML="Developed By,<br />Yagnik Patel."):"flex"===aboutSection.style.display&&(document.querySelector("#task-bar").style.display="flex",e.style.display="none",setTimeout(function(){e.style.display="initial"},10),aboutSection.style.display="none",hamBurger.style.display="block",document.querySelector("nav").style.justifyContent="space-between",pageToggleBtn.textContent="About",e.innerHTML="Good Morning,<br />User.")}function saveLocalTodos(e){let t,n=[e];(t=null===localStorage.getItem("todosMadeByYagnik")?[]:JSON.parse(localStorage.getItem("todosMadeByYagnik"))).push(n),localStorage.setItem("todosMadeByYagnik",JSON.stringify(t))}function getTodos(){let e;(e=null===localStorage.getItem("todosMadeByYagnik")?[]:JSON.parse(localStorage.getItem("todosMadeByYagnik"))).forEach(e=>{const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("img"),a=document.createElement("img");let s;1===e.length?(s=e[0],o.setAttribute("src","img/check.svg"),o.classList.add("fade-in-out")):2===e.length&&(s=e[0],n.classList.add(e[1]),o.setAttribute("src","img/redo.svg"),o.classList.add("spinThat"));const i=document.createTextNode(s),c=taskBar.firstChild;t.classList.add("task"),n.classList.add("taskText"),o.classList.add("checked"),a.classList.add("removed"),a.classList.add("spinThat"),a.setAttribute("src","img/close.svg"),n.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(a),taskBar.insertBefore(t,c)})}function removeLocalTodos(e){let t;(t=null===localStorage.getItem("todosMadeByYagnik")?[]:JSON.parse(localStorage.getItem("todosMadeByYagnik"))).splice(t.indexOf(e),1),localStorage.setItem("todosMadeByYagnik",JSON.stringify(t))}function checkLocalTodo(e){let t,n,o=JSON.parse(localStorage.getItem("todosMadeByYagnik"));o.forEach(a=>{a.forEach(t=>{t===e&&(n=t)}),a[0]===n&&(t=o.indexOf(a),o.splice(t,1,[e,"completed"]),localStorage.setItem("todosMadeByYagnik",JSON.stringify(o)))})}function getCheckedTodos(){let e,t;(e=null===localStorage.getItem("todosMadeByYagnik")?[]:JSON.parse(localStorage.getItem("todosMadeByYagnik"))).forEach(e=>{if("completed"===e[1]){t=e;const n=document.createElement("div"),o=document.createElement("p"),a=document.createTextNode(t[0]);if(o.style.textDecoration="none",o.style.color="#545454",n.classList.add("centerWork"),o.appendChild(a),n.appendChild(o),"No Checked Task"===checkSection.firstChild.textContent){const e=checkSection.firstChild;checkSection.replaceChild(n,e)}else"No Checked Task"!==checkSection.firstChild.textContent&&checkSection.insertBefore(n,checkSection.firstChild)}})}function removeCheckedTodo(e){let t=JSON.parse(localStorage.getItem("todosMadeByYagnik"));t.forEach(n=>{2===n.length&&n[0]===e&&(n.splice(1,1),localStorage.setItem("todosMadeByYagnik",JSON.stringify(t)))})}checkToggle.addEventListener("click",()=>{if(!checkSection.hasChildNodes()){const e=document.createElement("p"),t=document.createTextNode("No Checked Task");e.appendChild(t),checkSection.appendChild(e)}}),hamBurger.addEventListener("click",()=>{document.querySelector("#side-nav").classList.toggle("side-nav-showed")}),document.querySelector("#logo").addEventListener("click",()=>{document.querySelector("#side-nav").classList.contains("side-nav-showed")&&document.querySelector("#side-nav").classList.remove("side-nav-showed")}),document.querySelector("#task-bar").addEventListener("click",()=>{document.querySelector("#side-nav").classList.contains("side-nav-showed")&&document.querySelector("#side-nav").classList.remove("side-nav-showed")}),pageToggleBtn.addEventListener("click",togglePage),[...clipBoard].forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".emptyTaskModal p").textContent="Copied To Clipboard!",modalSection.classList.remove("modalAnimate"),modalSection.addEventListener("animationend",()=>{modalSection.classList.add("modalAnimate")});const t=e.target.previousElementSibling.getAttribute("href"),n=document.createElement("textarea"),o=document.createTextNode(t);n.appendChild(o),document.body.appendChild(n),n.classList.add("copy-text");var a=document.querySelector(".copy-text");a.focus(),a.select(),document.execCommand("copy"),document.body.removeChild(n)})});